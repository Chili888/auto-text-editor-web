<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>æ— ç—•å›¾åƒæ–‡å­—æ›¿æ¢å·¥å…·</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: auto; padding: 20px; background: #f7f7f7; }
    h2 { color: #333; }
    form { margin-bottom: 20px; background: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 0 10px #ddd; }
    input[type="text"] { width: 70%; padding: 6px; margin-right: 10px; }
    input[type="file"] { margin-bottom: 10px; }
    button { padding: 6px 14px; cursor: pointer; }
    .box-list { margin-top: 20px; }
    .box-item { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
    .preview-img { max-width: 100%; margin-top: 10px; border: 1px solid #ccc; }
  </style>
</head>
<body>

  <h2>ğŸ“· ä¸Šä¼ æˆªå›¾å›¾ç‰‡å¹¶æ›¿æ¢æŒ‡å®šæ–‡å­—</h2>
  <form method="POST" enctype="multipart/form-data">
    <input type="file" name="image" accept="image/*" required>
    <button type="submit">ä¸Šä¼ å¹¶è¯†åˆ«</button>
  </form>

  {% if image %}
    <h3>åŸå›¾é¢„è§ˆï¼š</h3>
    <img src="{{ url_for('static', filename='uploads/' + image) }}" class="preview-img">

    <div class="box-list">
      <h3>å¯æ›¿æ¢çš„æ–‡å­—åŒºåŸŸï¼š</h3>
      {% for box in boxes %}
        <div class="box-item">
          <strong>æ–‡å­— {{ loop.index }}ï¼š</strong> {{ box.text }}
          <form method="POST" action="/modify">
            <input type="hidden" name="index" value="{{ box.index }}">
            <input type="hidden" name="filename" value="{{ image }}">
            <input type="text" name="new_text" placeholder="è¾“å…¥æ›¿æ¢æ–‡å­—" required>
            <button type="submit">æ›¿æ¢å¹¶ä¸‹è½½</button>
          </form>
        </div>
      {% endfor %}
    </div>
  {% endif %}

</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>å›¾åƒæ–‡å­—ä¿®æ”¹å™¨</title>
</head>
<body>
    <h1>ä¸Šä¼ å›¾åƒæ–‡ä»¶</h1>
    <form method="POST" enctype="multipart/form-data">
        <input type="file" name="image" required>
        <button type="submit">è¯†åˆ«å¹¶æ˜¾ç¤ºæ–‡å­—</button>
    </form>

    {% if image %}
        <hr>
        <h2>è¯†åˆ«ç»“æœï¼ˆç‚¹å‡»æ›¿æ¢ï¼‰ï¼š</h2>
        <img src="{{ url_for('static', filename='uploads/' + image) }}" style="max-width:600px;"><br><br>

        {% for box in boxes %}
            <form method="POST" action="/modify">
                <input type="hidden" name="index" value="{{ box.index }}">
                <input type="hidden" name="filename" value="{{ image }}">
                <strong>åŸæ–‡ï¼š</strong> {{ box.text }}<br>
                <input type="text" name="new_text" placeholder="è¾“å…¥æ›¿æ¢æ–‡å­—" required>
                <button type="submit">æ›¿æ¢å¹¶ä¸‹è½½</button>
                <hr>
            </form>
        {% endfor %}
    {% endif %}
</body>
</html>
